<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzle Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="play.css">
</head>
<body>

    <!-- Back Button -->
    <button class="btn-back" onclick="window.history.back();">Back</button>

    <!-- Game Interface -->
    <div class="game-interface">
        <h1 class="game-title">Puzzle Game</h1>

        <!-- Puzzle Board -->
        <div id="puzzle-board" class="puzzle-board">
            <!-- Puzzle pieces will be dynamically inserted here using JS -->
        </div>

        <!-- Button to shuffle the puzzle -->
        <button class="btn01" id="shuffle-btn">Shuffle</button>
        <button class="btn01" id="solve-btn">Solve</button>
    </div>

    <script>
        // JavaScript to interact with the puzzle API and create the puzzle
        let puzzleBoard = document.getElementById('puzzle-board');
        let shuffleBtn = document.getElementById('shuffle-btn');
        let solveBtn = document.getElementById('solve-btn');

        // Dummy API call function to fetch puzzle pieces
        async function fetchPuzzleData() {
            try {
                // Example of calling your puzzle API (replace with your actual API)
                let response = await fetch('https://your-puzzle-api-url.com/get-puzzle');
                let puzzleData = await response.json();

                // Create puzzle pieces dynamically
                renderPuzzle(puzzleData.pieces);
            } catch (error) {
                console.error("Error fetching puzzle data:", error);
            }
        }

        // Function to render the puzzle pieces on the board
        function renderPuzzle(pieces) {
            puzzleBoard.innerHTML = ''; // Clear any previous puzzle
            pieces.forEach(piece => {
                let pieceElement = document.createElement('div');
                pieceElement.classList.add('puzzle-piece');
                pieceElement.style.backgroundImage = `url(${piece.image})`; // Assuming image URL is in the API
                pieceElement.style.backgroundSize = 'cover';
                pieceElement.dataset.id = piece.id; // Each piece has an ID to track
                puzzleBoard.appendChild(pieceElement);
            });
        }

        // Shuffle button functionality (this can be implemented with an API call or shuffle logic)
        shuffleBtn.addEventListener('click', async () => {
            try {
                let response = await fetch('https://your-puzzle-api-url.com/shuffle');
                let puzzleData = await response.json();
                renderPuzzle(puzzleData.pieces);
            } catch (error) {
                console.error("Error shuffling puzzle:", error);
            }
        });

        // Solve button functionality (solves the puzzle with a solved API call or pre-stored data)
        solveBtn.addEventListener('click', async () => {
            try {
                let response = await fetch('https://your-puzzle-api-url.com/solve');
                let puzzleData = await response.json();
                renderPuzzle(puzzleData.pieces);
            } catch (error) {
                console.error("Error solving puzzle:", error);
            }
        });

        // Fetch initial puzzle data when the page loads
        fetchPuzzleData();
    </script>

</body>
</html>
